<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/newevent.css">
    <link rel="stylesheet" href="css/header.css">
    <!--<script src="js/header.js"></script>
    <script src="js/events.js"></script>-->
    <script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAAc36s7FZgWYx1RmTW8Yvk131I1S0r7S0&libraries=places"></script>
    <title>Create New Event</title>
</head>
<body>
    <header>
        <div id="navBar">
            <div class="left">
                <a href="index.html"><img id="logo" src="images/EventRexBlank.png"/></a>
                <a class="navButton" href="index.html">HOME</a>
                <a class="navButton active" href="newevent.html">NEW EVENT</a>
                <a class="navButton" href="faq.html">FAQS</a>
            </div>
            <div class="right">
                <a class="navButton" href="profile.html">
                    <img src="images/user.jpg" id="userIcon" onload="this.src=sessionStorage.getItem('iconurl')"/>
                    <span id="profileName"></span> 
                    <script>document.getElementById('profileName').innerText = sessionStorage.getItem('username')</script>
                </a>
            </div>
        </div>
    </header>

    <form action="index.html" onsubmit="events.SubmitNewEventForm(this)">
        <div class="inputContainer" style="margin-top: 7em">
            <label for="eventName" class="inputLabel">Event name: </label>
            <input id="eventName" class="eventInput" type="text" required/>
        </div>
        
        <div class="inputContainer">
            <label class="inputLabel">Categories: </label>
            <div class="categoryGrid">
                <div id="parties" class="category">
                    <h3 class="title">Parties</h3>
                </div>
                <div id="dating" class="category">
                    <h3 class="title">Dating</h3>
                </div>
                <div id="games" class="category">
                    <h3 class="title">Games</h3>
                </div>
                <div id="music" class="category">
                    <h3 class="title">Music</h3>
                </div>
                <div id="dancing" class="category">
                    <h3 class="title">Dancing</h3>
                </div>
                <div id="food" class="category">
                    <h3 class="title">Food</h3>
                </div>
                <div class="category">
                    <h3 class="title"></h3>
                </div>
                <div id="other" class="category">
                    <h3 class="title">Other</h3>
                </div>
            </div>
        </div>

        <div class="inputContainer">
            <label class="inputLabel">Date: </label>
            <input id="eventDate" class="eventInput" type="date"/>

            <label class="inputLabel">Location: </label>
            <input id="addressAutocomplete" type="text" class="eventInput"/>
            <script>
                function initMap() {};
                window.addEventListener('load', function() {
                    let addressField = document.getElementById('addressAutocomplete');

                    /*navigator.geolocation.getCurrentPosition(function(position) {
                        let lat = position.coords.latitude;
                        let long = position.coords.longitude;
                        // Create a bounding box with sides 5km away from the center point
                        const myBounds = {
                            north: lat + 0.05,
                            south: lat - 0.05,
                            east: long + 0.05,
                            west: long - 0.05,
                        };*/

                        autocomplete = new google.maps.places.Autocomplete(addressField, {
                            //bounds: myBounds,
                            //componentRestrictions: { country: "us" },
                            //fields: ["formatted_address"],
                            //types: ["address"],
                        });
                        autocomplete.addListener("place_changed", function () {
                            const place = autocomplete.getPlace();
                            console.log(place)
                            //addressField.value = place.long_name;
                        });
                    //});
                });
            </script>

            <label class="inputLabel">Description: </label>
            <textarea id="eventDesc" class="eventInput"></textarea>

            <input type="submit" id="eventSubmit" value="Create Event!"/>
        </div>
    </form>
</body>
</html>